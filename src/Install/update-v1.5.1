<?php

return [
  'fileCopy' => [],
  'fileDelete' => [
    'src/Controller/TEMP.php',
    'templates/TEMP.html.twig',
  ],
  'sqlCommand' => [
    "CREATE TABLE gs_definizione_richiesta (id INT AUTO_INCREMENT NOT NULL, creato DATETIME NOT NULL, modificato DATETIME NOT NULL, nome VARCHAR(128) NOT NULL, richiedenti VARCHAR(16) NOT NULL, destinatari VARCHAR(16) NOT NULL, modulo VARCHAR(128) NOT NULL, campi LONGTEXT NOT NULL COMMENT '(DC2Type:array)', allegati SMALLINT NOT NULL, unica TINYINT(1) NOT NULL, UNIQUE INDEX UNIQ_FD5221E154BD530C (nome), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;",
    "CREATE TABLE gs_richiesta (id INT AUTO_INCREMENT NOT NULL, utente_id INT NOT NULL, definizione_richiesta_id INT NOT NULL, creato DATETIME NOT NULL, modificato DATETIME NOT NULL, inviata DATETIME NOT NULL, gestita DATETIME DEFAULT NULL, valori LONGTEXT NOT NULL COMMENT '(DC2Type:array)', documento VARCHAR(255) NOT NULL, allegati LONGTEXT NOT NULL COMMENT '(DC2Type:array)', stato VARCHAR(1) NOT NULL, messaggio LONGTEXT NOT NULL, INDEX IDX_F843086B6FD5D2A (utente_id), INDEX IDX_F843086BA0D4CB51 (definizione_richiesta_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB; ALTER TABLE gs_richiesta ADD CONSTRAINT FK_F843086B6FD5D2A FOREIGN KEY (utente_id) REFERENCES gs_utente (id); ALTER TABLE gs_richiesta ADD CONSTRAINT FK_F843086BA0D4CB51 FOREIGN KEY (definizione_richiesta_id) REFERENCES gs_definizione_richiesta (id);",
    "ALTER TABLE gs_utente ADD rappresentante VARCHAR(1) DEFAULT NULL;",
    "ALTER TABLE gs_definizione_richiesta ADD abilitata TINYINT(1) NOT NULL;",
    "UPDATE gs_configurazione SET descrizione='Nel caso si utilizzi un identity provider esterno, indica il ruolo degli utenti abilitati (A=alunno, G=genitore. D=docente, S=staff, P=preside, T=ata, M=amministratore)\<br>[testo]' WHERE parametro='id_provider_tipo';",
    "UPDATE gs_configurazione SET descrizione='Nel caso non si utilizzi un identity provider esterno, indica il ruolo degli utenti abilitati all''uso dell''OTP (A=alunno, G=genitore. D=docente, S=staff, T=ata, M=amministratore)<br>[testo]' WHERE parametro='otp_tipo';",
    "ALTER TABLE gs_definizione_richiesta ADD azione_gestione VARCHAR(64) NOT NULL, ADD azione_rimozione VARCHAR(64) NOT NULL;",
    "ALTER TABLE gs_richiesta ADD data DATE DEFAULT NULL;",
    "ALTER TABLE gs_definizione_richiesta CHANGE azione_gestione azione_gestione VARCHAR(64) DEFAULT NULL, CHANGE azione_rimozione azione_rimozione VARCHAR(64) DEFAULT NULL;",
    "ALTER TABLE gs_uscita ADD docente_giustifica_id INT DEFAULT NULL, ADD utente_giustifica_id INT DEFAULT NULL, ADD motivazione VARCHAR(1024) DEFAULT NULL, ADD giustificato DATE DEFAULT NULL; ALTER TABLE gs_uscita ADD CONSTRAINT FK_D3A7B4FDA41A8D6A FOREIGN KEY (docente_giustifica_id) REFERENCES gs_utente (id); ALTER TABLE gs_uscita ADD CONSTRAINT FK_D3A7B4FD75B404A4 FOREIGN KEY (utente_giustifica_id) REFERENCES gs_utente (id); CREATE INDEX IDX_D3A7B4FDA41A8D6A ON gs_uscita (docente_giustifica_id); CREATE INDEX IDX_D3A7B4FD75B404A4 ON gs_uscita (utente_giustifica_id); UPDATE gs_uscita SET giustificato=data,docente_giustifica_id=docente_id;",
    "ALTER TABLE gs_definizione_richiesta ADD tipo VARCHAR(1) NOT NULL, DROP azione_gestione, DROP azione_rimozione;",
    "INSERT INTO gs_configurazione (id, creato, modificato, categoria, parametro, descrizione, valore, gestito) VALUES (NULL, NOW(), NOW(), 'SCUOLA', 'scadenza_invio_richiesta', 'Indica l\'ora entro cui devono essere inviate le richieste per il giorno successivo<br>[formato: HH:MM]', '16:00', 0);",
    "INSERT INTO gs_configurazione (id, creato, modificato, categoria, parametro, descrizione, valore, gestito) VALUES (NULL, NOW(), NOW(), 'SCUOLA', 'gestione_uscite', 'Indica il tipo di gestione delle uscite anticipate degli alunni: tramite autorizzazione preventiva o con giustificazione (come per i ritardi)<br>[formato: A=autorizzazione, G=giustificazione]', 'A', 0);",
    "DELETE FROM gs_colloquio; ALTER TABLE gs_colloquio DROP FOREIGN KEY FK_A42C6DE08EEAC9E6; DROP INDEX IDX_A42C6DE08EEAC9E6 ON gs_colloquio;",
    "ALTER TABLE gs_colloquio ADD data DATE NOT NULL, ADD inizio TIME NOT NULL, ADD fine TIME NOT NULL, ADD durata INT NOT NULL, DROP orario_id, DROP giorno, DROP ora, DROP extra, DROP dati, CHANGE frequenza tipo VARCHAR(1) NOT NULL, CHANGE note luogo VARCHAR(2048) DEFAULT NULL;",
    "ALTER TABLE gs_colloquio ADD numero INT NOT NULL;",
    "DROP TABLE gs_richiesta_colloquio; CREATE TABLE gs_richiesta_colloquio (id INT AUTO_INCREMENT NOT NULL, colloquio_id INT NOT NULL, alunno_id INT NOT NULL, genitore_id INT NOT NULL, genitore_annulla_id INT DEFAULT NULL, creato DATETIME NOT NULL, modificato DATETIME NOT NULL, appuntamento TIME NOT NULL, stato VARCHAR(1) NOT NULL, messaggio LONGTEXT DEFAULT NULL, INDEX IDX_65259EA3E0E59796 (colloquio_id), INDEX IDX_65259EA37ABC9740 (alunno_id), INDEX IDX_65259EA389CCFDCE (genitore_id), INDEX IDX_65259EA311DD831F (genitore_annulla_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB; ALTER TABLE gs_richiesta_colloquio ADD CONSTRAINT FK_65259EA3E0E59796 FOREIGN KEY (colloquio_id) REFERENCES gs_colloquio (id); ALTER TABLE gs_richiesta_colloquio ADD CONSTRAINT FK_65259EA37ABC9740 FOREIGN KEY (alunno_id) REFERENCES gs_utente (id); ALTER TABLE gs_richiesta_colloquio ADD CONSTRAINT FK_65259EA389CCFDCE FOREIGN KEY (genitore_id) REFERENCES gs_utente (id); ALTER TABLE gs_richiesta_colloquio ADD CONSTRAINT FK_65259EA311DD831F FOREIGN KEY (genitore_annulla_id) REFERENCES gs_utente (id);",
    "ALTER TABLE gs_colloquio ADD abilitato TINYINT(1) NOT NULL;",
    "DELETE FROM gs_menu_opzione;",
    "DELETE FROM gs_menu;",
    "INSERT INTO gs_menu (id, creato, modificato, selettore, nome, descrizione, mega) VALUES (1,'2022-10-25 20:42:35','2022-10-25 20:42:35','help','Aiuto','Guida e supporto per l\'utente',0),(2,'2022-10-25 20:42:35','2022-10-25 20:42:35','user','Utente','Gestione del profilo dell\'utente',0),(3,'2022-10-25 20:42:35','2022-10-25 20:42:35','info','Informazioni','Informazioni sull\'applicazione',0),(4,'2022-10-25 20:42:35','2022-10-25 20:42:35','main','Menu Principale','Apri il menu principale',0),(5,'2022-10-25 20:42:35','2022-10-25 20:42:35','sistema','','',0),(6,'2022-10-25 20:42:35','2022-10-25 20:42:35','scuola','','',0),(7,'2022-10-25 20:42:35','2022-10-25 20:42:35','ata','','',0),(8,'2022-10-25 20:42:35','2022-10-25 20:42:35','docenti','','',0),(9,'2022-10-25 20:42:35','2022-10-25 20:42:35','alunni','','',0);",
    "INSERT INTO gs_menu_opzione (id, menu_id, sotto_menu_id, creato, modificato, ruolo, funzione, nome, descrizione, url, ordinamento, abilitato, icona) VALUES (1,1,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Manuale','Scarica il manuale d\'uso dell\'applicazione','',2,0,''),(2,2,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','UAGDSPTM','','Profilo','Gestione del profilo dell\'utente','utenti_profilo',1,1,''),(3,3,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','NUAGDSPTM','','Note&nbsp;legali','Mostra le note legali','info_noteLegali',1,1,''),(4,3,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','NUAGDSPTM','','Privacy','Mostra l\'informativa sulla privacy','info_privacy',2,1,''),(5,3,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','NUAGDSPTM','','Cookie','Mostra l\'informativa sui cookie','info_cookie',3,1,''),(6,3,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','NUAGDSPTM','','Credits','Mostra i credits','info_credits',4,1,''),(7,4,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','N','','Accesso','Accedi al registro','login_form',1,1,''),(8,4,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','N','','Recupero&nbsp;Password','Recupera la password di accesso tramite la posta elettronica','login_recovery',2,1,''),(9,4,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','N','','App&nbsp;e&nbsp;Servizi','Informazioni su app e servizi disponibili','app_info',3,1,''),(10,4,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','UAGDSPTM','','Home','Pagina principale','login_home',10,1,''),(11,4,5,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Sistema','Gestione generale del sistema','',20,1,'cog'),(12,4,6,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Scuola','Configurazione dei dati della scuola','',21,1,'school'),(13,4,7,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','ATA','Gestione del personale ATA','',22,1,'user-tie'),(14,4,8,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Docenti','Gestione dei docenti','',23,1,'user-graduate'),(15,4,9,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Alunni','Gestione degli alunni','',24,1,'child'),(16,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Parametri','Configura i parametri dell\'applicazione','sistema_parametri',1,1,''),(17,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Banner','Visualizza un banner sulle pagine principali','sistema_banner',2,1,''),(18,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Manutenzione','Imposta la modalit&agrave; di manutenzione','sistema_manutenzione',3,1,''),(19,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Archiviazione','Archivia i registri e i documenti delle classi','sistema_archivia',4,1,''),(20,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Nuovo&nbsp;A.S.','Effettua il passaggio al nuovo Anno Scolastico','sistema_nuovo',5,1,''),(21,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Aggiornamento','Cerca nuovi aggiornamenti e installa la nuova versione','sistema_aggiorna',6,1,''),(22,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','__SEPARATORE__','__SEPARATORE__','',7,1,''),(23,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Alias','Assumi l\'identit&agrave; di un altro utente','sistema_alias',8,1,''),(24,5,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Password','Cambia la password di un utente','sistema_password',9,1,''),(25,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Amministratore','Configura i dati dell\'amministratore','scuola_amministratore',1,1,''),(26,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Dirigente&nbsp;scolastico','Configura i dati del dirigente scolastico','scuola_dirigente',2,1,''),(27,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Istituto','Configura i dati dell\'Istituto','scuola_istituto',3,1,''),(28,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Sedi','Configura i dati delle sedi scolastiche','scuola_sedi',4,1,''),(29,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Corsi','Configura i corsi di studio','scuola_corsi',5,1,''),(30,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Materie','Configura le materie scolastiche','scuola_materie',6,1,''),(31,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Classi','Configura le classi','scuola_classi',7,1,''),(32,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Festivit&agrave;','Configura il calendario delle festivit&agrave;','scuola_festivita',8,1,''),(33,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Orario','Configura la scansione oraria delle lezioni','scuola_orario',9,1,''),(34,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Scrutini','Configura gli scrutini','scuola_scrutini',10,1,''),(35,6,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Moduli&nbsp;di&nbsp;richiesta','Configura i dati dei moduli di richiesta','scuola_moduli',11,1,''),(36,7,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Importa','Importa da file i dati del personale ATA','ata_importa',1,1,''),(37,7,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Modifica','Modifica i dati del personale ATA','ata_modifica',2,1,''),(38,8,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Importa','Importa da file i dati dei docenti','docenti_importa',1,1,''),(39,8,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Modifica','Modifica i dati dei docenti','docenti_modifica',2,1,''),(40,8,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Staff','Configura i componenti dello staff della dirigenza','docenti_staff',3,1,''),(41,8,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Coordinatori','Configura i coordinatori del Consiglio di Classe','docenti_coordinatori',4,1,''),(42,8,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Segretari','Configura i segretari del Consiglio di Classe','docenti_segretari',5,1,''),(43,8,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Cattedre','Configura le cattedre dei docenti','docenti_cattedre',6,1,''),(44,8,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Responsabili&nbsp;BES','Configura i responsabili BES','docenti_responsabiliBes',7,1,''),(45,9,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Importa','Importa da file i dati degli alunni','alunni_importa',1,1,''),(46,9,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Modifica','Modifica i dati degli alunni','alunni_modifica',2,1,''),(47,9,NULL,'2022-10-25 20:42:35','2022-10-25 20:42:35','M','','Cambio&nbsp;classe','Configura il cambio di classe degli alunni','alunni_classe',3,1,'');"],
  'sqlCheck' => [
    "SELECT 1 FROM dual UNION SELECT 1 FROM gs_definizione_richiesta;",
    "SELECT 1 FROM dual UNION SELECT 1 FROM gs_richiesta;",
    "SELECT 1 FROM dual UNION SELECT rappresentante FROM gs_utente;",
    "SELECT 1 FROM dual UNION SELECT abilitata FROM gs_definizione_richiesta;",
    "",
    "",
    "SELECT 1 FROM dual UNION SELECT azione_gestione FROM gs_definizione_richiesta;",
    "SELECT 1 FROM dual UNION SELECT data FROM gs_richiesta;",
    "",
    "SELECT 1 FROM dual UNION SELECT docente_giustifica_id FROM gs_uscita;",
    "SELECT 1 FROM dual UNION SELECT tipo FROM gs_definizione_richiesta;",
    "SELECT * FROM gs_configurazione WHERE parametro='scadenza_invio_richiesta'",
    "SELECT * FROM gs_configurazione WHERE parametro='gestione_uscite'",
    "SELECT 1 FROM dual UNION SELECT data FROM gs_colloquio;",
    "SELECT 1 FROM dual UNION SELECT data FROM gs_colloquio;",
    "SELECT 1 FROM dual UNION SELECT numero FROM gs_colloquio;",
    "SELECT durata FROM gs_richiesta_colloquio WHERE 2=1;",
    "SELECT 1 FROM dual UNION SELECT abilitato FROM gs_colloquio;",
    "",
    "",
    "",
    ""],
  'envDelete' => []
];
