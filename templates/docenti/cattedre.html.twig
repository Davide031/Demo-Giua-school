{% extends 'docenti/index.html.twig' %}

{% block pagina_contenuto %}
<div class="container-fluid gs-mt-3">
  {% include 'include/form-inline.html.twig' %}
  <table class="table table-striped table-bordered gs-mb-0">
    <thead>
      <tr>
        <th>{{ 'label.disabilitato'|trans }}</th>
        <th>{{ 'label.classe'|trans }}</th>
        <th>{{ 'label.materia'|trans }}</th>
        <th>{{ 'label.docente'|trans }}</th>
        <th>{{ 'label.tipo'|trans }}</th>
        <th>{{ 'label.action'|trans }}</th>
      </tr>
    </thead>
    <tbody>
    {% for c in lista %}
      <tr>
        <td>{% if not c.attiva %}<span title="{{ 'label.disabilitato'|trans }}"><span class="glyphicon glyphicon-ban-circle gs-mr-2" aria-hidden="true"></span></span>{% endif %}</td>
        <td>{{ c.classe.anno }} {{ c.classe.sezione }}</td>
        <td>{{ c.materia.nomeBreve }}{{ (c.tipo == 'S' and c.alunno) ? ' ('~c.alunno.cognome~' '~c.alunno.nome~')' }}</td>
        <td>{{ c.docente.cognome }} {{ c.docente.nome }} ({{ c.docente.username }})</td>
        <td>{{ ('label.tipo_'~c.tipo)|trans }}{{ c.supplenza ? ' (supplenza)' }}</td>
        <td>
          {% if c.attiva %}
          <a class="btn btn-danger btn-xs" href="{{ path('docenti_cattedre_enable', {'id': c.id, 'enable': 'false'}) }}" role="button"><span class="glyphicon glyphicon-ban-circle gs-mr-2" aria-hidden="true"></span>{{ 'label.disable'|trans }}</a>
          {% else %}
          <a class="btn btn-success btn-xs" href="{{ path('docenti_cattedre_enable', {'id': c.id, 'enable': 'true'}) }}" role="button"><span class="glyphicon glyphicon-ok gs-mr-2" aria-hidden="true"></span>{{ 'label.enable'|trans }}</a>
          {% endif %}
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
  {% if maxPages > 1 %}
  <nav aria-label="Navigazione tra le pagine" class="text-center">
    <ul class="pagination pagination-sm gs-mt-2">
      {% if page > 1 %}
      <li>
        <a href="{{ path('docenti_cattedre-param', {page: page-1}) }}" title="{{ 'label.precedente'|trans }}"><span aria-hidden="true">&laquo;</span></a>
      </li>
      {% else %}
      <li class="disabled">
        <span title="{{ 'label.precedente'|trans }}"><span aria-hidden="true">&laquo;</span></span>
      </li>
      {% endif %}
      {% for i in 1..maxPages %}
      <li {{ page == i ? 'class="active"' }}>
        <a href="{{ path('docenti_cattedre-param', {page: i}) }}">{{ i }}</a>
      </li>
      {% endfor %}
      {% if page < maxPages %}
      <li>
        <a href="{{ path('docenti_cattedre-param', {page: page+1}) }}" title="{{ 'label.successiva'|trans }}"><span aria-hidden="true">&raquo;</span></a>
      </li>
      {% else %}
      <li class="disabled">
        <span title="{{ 'label.successiva'|trans }}"><span aria-hidden="true">&raquo;</span></span>
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
  <div class="gs-mt-3"><a class="btn btn-primary" href="{{ path('docenti_cattedre_add') }}" role="button"><span class="glyphicon glyphicon-plus gs-mr-2" aria-hidden="true"></span>{{ 'label.add'|trans }}</a></div>
</div>
{% endblock %}
