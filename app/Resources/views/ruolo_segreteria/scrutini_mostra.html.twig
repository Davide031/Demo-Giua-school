{% extends 'ruolo_segreteria/index.html.twig' %}

{% block pagina_contenuto %}
<div class="container-fluid">
  <h1 class="text-center gs-h2 gs-mt-0">Scrutinio {{ periodo == 'F' ? 'finale' }} di {{ alunno.cognome }} {{ alunno.nome }} ({{ alunno.dataNascita|date('d/m/Y') }})</h1>
  <h2 class="text-center gs-h2 gs-mt-0">Classe {{ alunno.classe.anno }}Âª {{ alunno.classe.sezione }}</h2>
  <div class="text-center text-info gs-mt-4"><strong class="gs-big">Esito dello scrutinio svolto in data {{ dati.scrutinio.data|date('d/m/Y') }}:</strong></div>
  {% if dati.noscrutinato is defined %}
    {% if dati.noscrutinato == 'C' %}
  <div class="alert alert-warning gs-mt-4" role="alert">
    <div class="text-center"><strong class="gs-big">NON SCRUTINAT{{ alunno.sesso == 'M' ? 'O' : 'A' }}</strong></div>
  </div>
    {% elseif dati.noscrutinato == 'A' %}
  <div class="alert alert-warning gs-mt-4" role="alert">
    <div class="text-center"><strong class="gs-big">ESCLUS{{ alunno.sesso == 'M' ? 'O' : 'A' }} DALLO SCRUTINIO FINALE E NON AMMESS{{ alunno.sesso == 'M' ? 'O' : 'A' }} (DPR 122/09 ART. 14 COMMA 7)</strong></div>
  </div>
  <div class="text-center">
    <a class="btn btn-primary btn" href="{{ path('pagelle_alunno', {'classe': alunno.classe.id, 'alunno': alunno.id, 'tipo': 'N', 'periodo': periodo}) }}" role="button" title="Scarica la comunicazione di non ammissione"><span class="glyphicon glyphicon-download-alt gs-mr-3"></span><strong>Comunicazione di non ammissione</strong></a>
  </div>
    {% endif %}
  {% else %}
    {% if dati.esito.esito == 'A' %}
  <div class="alert alert-success" role="alert">
    <div class="text-center"><strong class="gs-big">AMMESS{{ alunno.sesso == 'M' ? 'O' : 'A' }}</strong></div>
  </div>
  <div class="text-center gs-mb-3">
    <a class="btn btn-primary btn" href="{{ path('pagelle_alunno', {'classe': alunno.classe.id, 'alunno': alunno.id, 'tipo': 'P', 'periodo': periodo}) }}" role="button" title="Scarica la comunicazione con i voti assegnati"><span class="glyphicon glyphicon-download-alt gs-mr-3"></span><strong>Comunicazione dei voti</strong></a>
  </div>
      {% if dati.carenze is defined %}
  <div class="text-center">
    <a class="btn btn-primary btn" href="{{ path('pagelle_alunno', {'classe': alunno.classe.id, 'alunno': alunno.id, 'tipo': 'C', 'periodo': periodo}) }}" role="button" title="Scarica la comunicazione per il recupero autonomo"><span class="glyphicon glyphicon-download-alt gs-mr-3"></span><strong>Comunicazione per il recupero autonomo</strong></a>
  </div>
      {% endif %}
    {% elseif dati.esito.esito == 'S' %}
  <div class="alert alert-warning" role="alert">
    <div class="text-center"><strong class="gs-big">GIUDIZIO SOSPESO</strong></div>
  </div>
  <div class="text-center gs-mb-3">
    <a class="btn btn-primary btn" href="{{ path('pagelle_alunno', {'classe': alunno.classe.id, 'alunno': alunno.id, 'tipo': 'P', 'periodo': periodo}) }}" role="button" title="Scarica la comunicazione con i voti assegnati"><span class="glyphicon glyphicon-download-alt gs-mr-3"></span><strong>Comunicazione dei voti</strong></a>
  </div>
  <div class="text-center">
    <a class="btn btn-primary btn" href="{{ path('pagelle_alunno', {'classe': alunno.classe.id, 'alunno': alunno.id, 'tipo': 'D', 'periodo': periodo}) }}" role="button" title="Scarica la comunicazione del debito formativo"><span class="glyphicon glyphicon-download-alt gs-mr-3"></span><strong>Comunicazione del debito formativo</strong></a>
  </div>
      {% if dati.carenze is defined %}
  <div class="text-center gs-mt-3">
    <a class="btn btn-primary btn" href="{{ path('pagelle_alunno', {'classe': alunno.classe.id, 'alunno': alunno.id, 'tipo': 'C', 'periodo': periodo}) }}" role="button" title="Scarica la comunicazione per il recupero autonomo"><span class="glyphicon glyphicon-download-alt gs-mr-3"></span><strong>Comunicazione per il recupero autonomo</strong></a>
  </div>
      {% endif %}
    {% elseif dati.esito.esito == 'N' %}
  <div class="alert alert-danger" role="alert">
    <div class="text-center"><strong class="gs-big">NON AMMESS{{ alunno.sesso == 'M' ? 'O' : 'A' }}</strong></div>
  </div>
  <div class="text-center">
    <a class="btn btn-primary btn" href="{{ path('pagelle_alunno', {'classe': alunno.classe.id, 'alunno': alunno.id, 'tipo': 'N', 'periodo': periodo}) }}" role="button" title="Scarica la comunicazione di non ammissione"><span class="glyphicon glyphicon-download-alt gs-mr-3"></span><strong>Comunicazione di non ammissione</strong></a>
  </div>
    {% endif %}
  {% endif %}
  <div class="gs-mt-5">
    <a class="btn btn-primary gs-mr-3" href="{{ path('segreteria_scrutini') }}" role="button" title="Torna alla pagina di scelta degli alunni"><span class="glyphicon glyphicon-backward gs-mr-3" aria-hidden="true"></span><strong>{{ 'label.indietro'|trans }}</strong></a>
  </div>
</div>
{% endblock %}
